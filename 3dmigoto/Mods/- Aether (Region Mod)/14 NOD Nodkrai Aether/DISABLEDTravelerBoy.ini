; TravelerBoy

; Constants -------------------------

[Constants]
global $active
global $activeNodkrai
global persist $regioncheck 

[Present]
$active = $activeNodkrai
post $activeNodkrai = 0
$regioncheck = $\global\region\regioncheck

; Overrides -------------------------

[TextureOverrideTravelerBoyPosition]
hash = c77e380b
if $regioncheck == 14
	vb0 = ResourceTravelerBoyPosition
	$activeNodkrai = 1
endif


[TextureOverrideTravelerBoyBlend]
hash = 4dfdf2be
if $active==1
	vb1 = ResourceTravelerBoyBlend
	handling = skip
	draw = 119843,0
endif

[TextureOverrideTravelerBoyTexcoord]
hash = 517e5e7e
if $active==1
	vb1 = ResourceTravelerBoyTexcoord
endif

[TextureOverrideTravelerBoyVertexLimitRaise]
hash = e9786a5f
; override_vertex_count = 119843
; override_byte_stride = 84

[TextureOverrideTravelerBoyIB]
hash = 8ed7c5f0
if $active==1
	handling = skip
endif

[TextureOverrideTravelerBoyHead]
hash = 8ed7c5f0
if $active==1
	match_first_index = 0
	ib = ResourceTravelerBoyHeadIB

	; eyes
	ps-t0 = ResourceTravelerBoyHeadDiffuse

	ps-t1 = ResourceTravelerBoyHeadLightMap
	run = CommandList\global\ORFix\NNFix

	; Hair
	drawindexed = 8814, 25437, 0

	; eyes w
	drawindexed = 828, 180483, 0
endif

[TextureOverrideTravelerBoyBody]
hash = 8ed7c5f0
if $active==1
	match_first_index = 8874
	ib = ResourceTravelerBoyBodyIB
	ps-t0 = ResourceTravelerBoyBodyDiffuse
	ps-t1 = ResourceTravelerBoyBodyLightMap
	run = CommandList\global\ORFix\NNFix
	; TravelerBoyBody-vb0=c77e380b.txt.011 (20518)
	drawindexed = 80745, 0, 0

	; hat
	drawindexed = 19212, 100653, 0

	; body
	drawindexed = 558, 186453, 0

	; cape
	drawindexed = 47607, 199587, 0
endif

[TextureOverrideTravelerBoyFaceHeadDiffuse]
hash = 50c169e8
if $active==1
	this = ResourceTravelerBoyFaceHeadDiffuse
endif

[Textureoverriderandomname]
hash = 4ec15721
this = ResourceAetherNatlanFXBodyShadow


; CommandList -----------------------

; Resources -------------------------

[ResourceTravelerBoyPosition]
type = Buffer
stride = 40
filename = TravelerBoyPosition.buf

[ResourceTravelerBoyBlend]
type = Buffer
stride = 32
filename = TravelerBoyBlend.buf

[ResourceTravelerBoyTexcoord]
type = Buffer
stride = 12
filename = TravelerBoyTexcoord.buf

[ResourceTravelerBoyHeadIB]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = TravelerBoyHead.ib

[ResourceTravelerBoyBodyIB]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = TravelerBoyBody.ib

[ResourceTravelerBoyHeadDiffuse]
filename = TravelerBoyHeadDiffuse.dds

[ResourceTravelerBoyHeadDiffuseD]
filename = TravelerBoyHeadDiffuseD.dds

[ResourceTravelerBoyHeadLightMap]
filename = TravelerBoyHeadLightMap.dds

[ResourceTravelerBoyBodyDiffuse]
filename = TravelerBoyBodyDiffuse.dds

[ResourceTravelerBoyBodyLightMap]
filename = TravelerBoyBodyLightMap.dds

[ResourceTravelerBoyFaceHeadDiffuse]
filename = TravelerBoyFaceHeadDiffuse.dds

[ResourceAetherNatlanFXBodyShadow]
filename = AetherNatlanFXBodyShadow.dds

[ResourceCreditInfo]
type = Buffer
data = "Created by NOON"

; .ini generated by XXMI (XX-Model-Importer)
; If you have any issues or find any bugs, please open a ticket at https://github.com/leotorrez/XXMI-Tools/issues