; FluteofEzpitzal -- Favonius Sword

; Constants -------------------------
[Constants]
global persist $swapvar = 0

global $activeXilonen
global $active

[KeySwap]
key = 7
type = cycle
$swapvar = 0,1
$creditinfo = 0


[KeySwap2]
key = alt Right
back = alt Left
type = cycle
$swapvar = 0

[Present]
$active = $activeXilonen
post $activeXilonen = 0
;^change this to 1 to make active on all characters
; Overrides -------------------------

[TextureOverrideFluteofEzpitzal]
hash = 5abde609
if $active == 1
vb0 = ResourceFluteofEzpitzal
endif

[TextureOverrideFluteofEzpitzalIB]
hash = 0e69854d
if $active == 1
handling = skip
drawindexed = auto
endif

[TextureOverrideFluteofEzpitzalHead]
hash = 0e69854d
if $active == 1
	match_first_index = 0
	ib = ResourceFluteofEzpitzalHeadIB
	if $swapvar == 1
		ps-t0 = ResourceFluteofEzpitzalHeadDiffuse2
	else if $swapvar == 0
		ps-t0 = ResourceFluteofEzpitzalHeadDiffuse
	endif
	ps-t1 = ResourceFluteofEzpitzalHeadLightMap
endif

; CommandList -----------------------
; ============================== Xilonen POS
[TextureOverrideXilonenPosition]
hash = a4571ede
$activeXilonen = 1
match_priority = 1
; Resources -------------------------

[ResourceFluteofEzpitzal]
type = Buffer
stride = 28
filename = FluteofEzpitzal.buf

[ResourceFluteofEzpitzalHeadIB]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = FluteofEzpitzalHead.ib

[ResourceFluteofEzpitzalHeadDiffuse]
filename = FluteofEzpitzalHeadDiffuse.dds

[ResourceFluteofEzpitzalHeadDiffuse2]
filename = FluteofEzpitzalHeadDiffuse2.dds

[ResourceFluteofEzpitzalHeadLightMap]
filename = FluteofEzpitzalHeadLightMap.dds

[ResourceFluteofEzpitzalHeadLightMap2]
filename = FluteofEzpitzalHeadLightMap2.dds


; .ini generated by GIMI (Genshin-Impact-Model-Importer)
; If you have any issues or find any bugs, please open a ticket at https://github.com/SilentNightSound/GI-Model-Importer/issues or contact SilentNightSound#7430 on discord