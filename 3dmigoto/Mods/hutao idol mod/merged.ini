; Merged Mod: .\HuTaoMod0\HuTao.ini, .\HuTaoMod1\HuTao.ini

; Constants ---------------------------

[Constants]
global persist $swapvar = 1
global $active
global $creditinfo = 0

[KeySwap]
back = [
condition = $active == 1
key = ]
type = cycle
$swapvar = 0,1
$creditinfo = 0

[Present]
post $active = 0

; Shader ------------------------------

; Overrides ---------------------------

[TextureOverrideHuTaoPosition]
hash = dd16576c
run = CommandListHuTaoPosition
$active = 1

[TextureOverrideHuTaoBlend]
hash = 153dba3f
run = CommandListHuTaoBlend

[TextureOverrideHuTaoTexcoord]
hash = 51afdfcf
run = CommandListHuTaoTexcoord

[TextureOverrideHuTaoVertexLimitRaise]
hash = e9d17db6

[TextureOverrideHuTaoIB]
hash = 3de1efe2
run = CommandListHuTaoIB

[TextureOverrideHuTaoHead]
hash = 3de1efe2
match_first_index = 0
run = CommandListHuTaoHead

[TextureOverrideHuTaoBody]
hash = 3de1efe2
match_first_index = 16509
run = CommandListHuTaoBody

[TextureOverrideHuTaoFaceHeadDiffuse]
hash = d00bb0ef
run = CommandListHuTaoFaceHeadDiffuse

; CommandList -------------------------

[CommandListHuTaoPosition]
if $swapvar == 0
	vb0 = ResourceHuTaoPosition.0
else if $swapvar == 1
	vb0 = ResourceHuTaoPosition.1
endif

[CommandListHuTaoBlend]
if $swapvar == 0
	vb1 = ResourceHuTaoBlend.0
	handling = skip
	draw = 26389,0
else if $swapvar == 1
	vb1 = ResourceHuTaoBlend.1
	handling = skip
	draw = 29139,0
endif

[CommandListHuTaoTexcoord]
if $swapvar == 0
	vb1 = ResourceHuTaoTexcoord.0
else if $swapvar == 1
	vb1 = ResourceHuTaoTexcoord.1
endif

[CommandListHuTaoIB]
if $swapvar == 0
	handling = skip
	drawindexed = auto
else if $swapvar == 1
	handling = skip
	drawindexed = auto
endif

[CommandListHuTaoHead]
if $swapvar == 0
	ib = ResourceHuTaoHeadIB.0
	ps-t0 = ResourceHuTaoHeadDiffuse.0
	ps-t1 = ResourceHuTaoHeadLightMap.0
else if $swapvar == 1
	ib = ResourceHuTaoHeadIB.1
	ps-t0 = ResourceHuTaoHeadDiffuse.1
	ps-t1 = ResourceHuTaoHeadLightMap.1
endif

[CommandListHuTaoBody]
if $swapvar == 0
	ib = ResourceHuTaoBodyIB.0
	ps-t0 = ResourceHuTaoBodyDiffuse.0
	ps-t1 = ResourceHuTaoBodyLightMap.0
else if $swapvar == 1
	ib = ResourceHuTaoBodyIB.1
	ps-t0 = ResourceHuTaoBodyDiffuse.1
	ps-t1 = ResourceHuTaoBodyLightMap.1
endif

[CommandListHuTaoFaceHeadDiffuse]
if $swapvar == 0
	ps-t0 = ResourceHuTaoFaceHeadDiffuse.0
else if $swapvar == 1
	ps-t0 = ResourceHuTaoFaceHeadDiffuse.1
endif

; Resources ---------------------------

[ResourceHuTaoPosition.0]
type = Buffer
stride = 40
filename = .\HuTaoMod0\HuTaoPosition.buf

[ResourceHuTaoBlend.0]
type = Buffer
stride = 32
filename = .\HuTaoMod0\HuTaoBlend.buf

[ResourceHuTaoTexcoord.0]
type = Buffer
stride = 12
filename = .\HuTaoMod0\HuTaoTexcoord.buf

[ResourceHuTaoHeadIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\HuTaoMod0\HuTaoHead.ib

[ResourceHuTaoBodyIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\HuTaoMod0\HuTaoBody.ib

[ResourceHuTaoHeadDiffuse.0]
filename = .\HuTaoMod0\HuTaoHeadDiffuse.dds

[ResourceHuTaoHeadLightMap.0]
filename = .\HuTaoMod0\HuTaoHeadLightMap.dds

[ResourceHuTaoBodyDiffuse.0]
filename = .\HuTaoMod0\HuTaoBodyDiffuse.dds

[ResourceHuTaoBodyLightMap.0]
filename = .\HuTaoMod0\HuTaoBodyLightMap.dds

[ResourceHuTaoFaceHeadDiffuse.0]
filename = .\HuTaoMod0\HuTaoFaceHeadDiffuse.dds

[ResourceHuTaoPosition.1]
type = Buffer
stride = 40
filename = .\HuTaoMod1\HuTaoPosition.buf

[ResourceHuTaoBlend.1]
type = Buffer
stride = 32
filename = .\HuTaoMod1\HuTaoBlend.buf

[ResourceHuTaoTexcoord.1]
type = Buffer
stride = 12
filename = .\HuTaoMod1\HuTaoTexcoord.buf

[ResourceHuTaoHeadIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\HuTaoMod1\HuTaoHead.ib

[ResourceHuTaoBodyIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\HuTaoMod1\HuTaoBody.ib

[ResourceHuTaoHeadDiffuse.1]
filename = .\HuTaoMod1\HuTaoHeadDiffuse.dds

[ResourceHuTaoHeadLightMap.1]
filename = .\HuTaoMod1\HuTaoHeadLightMap.dds

[ResourceHuTaoBodyDiffuse.1]
filename = .\HuTaoMod0\HuTaoBodyDiffuse.dds

[ResourceHuTaoBodyLightMap.1]
filename = .\HuTaoMod0\HuTaoBodyLightMap.dds

[ResourceHuTaoFaceHeadDiffuse.1]
filename = .\HuTaoMod0\HuTaoFaceHeadDiffuse.dds



; .ini generated by GIMI (Genshin-Impact-Model-Importer) mod merger script
; If you have any issues or find any bugs, please open a ticket at https://github.com/SilentNightSound/GI-Model-Importer/issues or contact SilentNightSound#7430 on discord