; GaMing

; Constants -------------------------

[Constants]
global $active = 0
global $transparent = 0
global $creditinfo = 0

[KeySwap]
condition = $active == 1
key = h
type = cycle
$transparent = 0,1
$creditinfo = 0

[Present]
post $active = 0
run = CommandListCreditInfo

if $active == 1
run = CommandList\TexFx\SupressHullHack
endif

; Overrides -------------------------

[TextureOverrideGaMingHideClaymore]
hash = 93a10c75
handling = skip

[TextureOverrideGaMingPosition]
hash = b94ef036
vb0 = ResourceGaMingPosition
$active = 1

[TextureOverrideGaMingBlend]
hash = 1f9a91f4
vb1 = ResourceGaMingBlend
handling = skip
draw = 70000,0 

[TextureOverrideGaMingTexcoord]
hash = 968dba13
vb1 = ResourceGaMingTexcoord

[TextureOverrideGaMingVertexLimitRaise]
hash = 8b5fc47d

[TextureOverrideGaMingIB]
hash = b5eb19b6
handling = skip
drawindexed = auto

[TextureOverrideGaMingHead]
hash = b5eb19b6
match_first_index = 0
ib = ResourceGaMingHeadIB
ps-t0 = ResourceGaMingHeadNormalMap
ps-t1 = null
ps-t2 = ResourceGaMingHeadDiffuse
ps-t3 = ResourceGaMingHeadLightMap

run = CommandList\global\ORFix\ORFix

[TextureOverrideGaMingBody]
hash = b5eb19b6
match_first_index = 21129
ib = ResourceGaMingBodyIB
ps-t0 = ResourceGaMingBodyNormalMap
ps-t1 = null
ps-t2 = ResourceGaMingBodyDiffuse
ps-t3 = ResourceGaMingBodyLightMap
if $transparent == 1
ps-t69 = ResourceGaMingBodyMask
run = CommandList\TexFx\Transparency.1 
endif
run = CommandList\global\ORFix\ORFix

[TextureOverrideGaMingFace]
hash = 72856cf5
this = ResourceGaMingFaceDiffuseTan

; CommandList -----------------------

[CommandListCreditInfo]
if $creditinfo == 0 && $active == 1
	pre Resource\ShaderFixes\help.ini\Notification = ResourceCreditInfo
	pre run = CustomShader\ShaderFixes\help.ini\FormatText
	pre $\ShaderFixes\help.ini\notification_timeout = time + 5.0
	$creditinfo = 1
endif

; Resources -------------------------

[ResourceGaMingPosition]
type = Buffer
stride = 40
filename = GaMingPosition.buf

[ResourceGaMingBlend]
type = Buffer
stride = 32
filename = GaMingBlend.buf

[ResourceGaMingTexcoord]
type = Buffer
stride = 12
filename = GaMingTexcoord.buf

[ResourceGaMingHeadIB]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = GaMingHead.ib

[ResourceGaMingBodyIB]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = GaMingBody.ib

[ResourceGaMingHeadNormalMap]
filename = GaMingHeadNormalMap.dds

[ResourceGaMingHeadDiffuse]
filename = GaMingHeadDiffuse.dds

[ResourceGaMingHeadLightMap]
filename = GaMingHeadLightMap.dds

[ResourceGaMingBodyNormalMap]
filename = GaMingBodyNormalMap.dds

[ResourceGaMingBodyDiffuse]
filename = GaMingBodyDiffuse.dds

[ResourceGaMingBodyLightMap]
filename = GaMingBodyLightMap.dds

[ResourceGaMingBodyMask]
filename = GaMingBodyMask.dds

[ResourceGaMingFaceDiffuseTan]
filename = GaMingFaceDiffuseTan.dds

[ResourceCreditInfo]
type = Buffer
data = "Created by annplan"


; .ini generated by GIMI (Genshin-Impact-Model-Importer)
; If you have any issues or find any bugs, please open a ticket at https://github.com/SilentNightSound/GI-Model-Importer/issues or contact SilentNightSound#7430 on discord
;updated 4.8 gaming
