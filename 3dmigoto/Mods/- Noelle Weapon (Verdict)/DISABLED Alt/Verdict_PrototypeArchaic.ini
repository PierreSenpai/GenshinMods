; Verdict by Dougline - https://gamebanana.com/members/1435531

; Constants -------------------------

[Constants]
global persist $swapvar = 0
global persist $color = 0
global persist $Obsidian = 0
global $active
;global $glow

[KeyColor]
condition = $active == 1
key = VK_UP
back = VK_DOWN
type = cycle
$color = 0,1,2,3,4

[KeyObsidian]
condition = $active == 1
key = K
type = cycle
$Obsidian = 0,1


[Present]
;post $glow = 0

if $color==0 && $Obsidian==0
$swapvar=0
else if $color==0 && $Obsidian==1
$swapvar=1
else if $color==1 && $Obsidian==0
$swapvar=2
else if $color==1 && $Obsidian==1
$swapvar=3
else if $color==2 && $Obsidian==0
$swapvar=4
else if $color==2 && $Obsidian==1
$swapvar=5
else if $color==3 && $Obsidian==0
$swapvar=6
else if $color==3 && $Obsidian==1
$swapvar=7
else if $color==4 && $Obsidian>=0
$swapvar=8
endif

; Overrides -------------------------

[TextureOverridePrototypeArchaicPosition]
hash = 1d87d02e
vb0 = ResourcePrototypeArchaicPosition
$active = 1
;$glow = 2

[TextureOverridePrototypeArchaicBlend]
hash = 6c3117d5
vb1 = ResourcePrototypeArchaicBlend
handling = skip
draw = 4969,0 

[TextureOverridePrototypeArchaicTexcoord]
hash = b97dd8cb
vb1 = ResourcePrototypeArchaicTexcoord

[TextureOverridePrototypeArchaicVertexLimitRaise]
hash = 7915db83

[TextureOverridePrototypeArchaicIB]
hash = 8c8f420b
;hash = b45b28d4
handling = skip
drawindexed = auto

[TextureOverridePrototypeArchaicHead]
hash = 8c8f420b
;hash = b45b28d4
match_first_index = 0
ib = ResourcePrototypeArchaicHeadIB
run = CommandListVerdictHead

; Beacon glow adjust, used with the custom ShaderFix
;[ShaderOverrideSerpentGlow]
;hash = d70ebca4639da046
;x160 = $glow

; CommandList -----------------------

[CommandListVerdictHead]
if $swapvar == 0
	ps-t0 = ResourceVerdictHeadDiffuse.0
	ps-t1 = ResourceVerdictHeadLightMap
else if $swapvar == 1
	ps-t0 = ResourceVerdictHeadDiffuse.1
	ps-t1 = ResourceVerdictHeadLightMapObsidian
else if $swapvar == 2
	ps-t0 = ResourceVerdictHeadDiffuse.2
	ps-t1 = ResourceVerdictHeadLightMap
else if $swapvar == 3
	ps-t0 = ResourceVerdictHeadDiffuse.3
	ps-t1 = ResourceVerdictHeadLightMapObsidian
else if $swapvar == 4
	ps-t0 = ResourceVerdictHeadDiffuse.4
	ps-t1 = ResourceVerdictHeadLightMap
else if $swapvar == 5
	ps-t0 = ResourceVerdictHeadDiffuse.5
	ps-t1 = ResourceVerdictHeadLightMapObsidian
else if $swapvar == 6
	ps-t0 = ResourceVerdictHeadDiffuse.6
	ps-t1 = ResourceVerdictHeadLightMap
else if $swapvar == 7
	ps-t0 = ResourceVerdictHeadDiffuse.7
	ps-t1 = ResourceVerdictHeadLightMapObsidian
else if $swapvar == 8
	ps-t0 = ResourceVerdictHeadDiffuse.8
	ps-t1 = ResourceVerdictHeadLightMap
endif

; Resources -------------------------

[ResourcePrototypeArchaicPosition]
type = Buffer
stride = 40
filename = PrototypeArchaicPosition.buf

[ResourcePrototypeArchaicBlend]
type = Buffer
stride = 32
filename = PrototypeArchaicBlend.buf

[ResourcePrototypeArchaicTexcoord]
type = Buffer
stride = 20
filename = PrototypeArchaicTexcoord.buf

[ResourcePrototypeArchaicHeadIB]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = PrototypeArchaicHead.ib

[ResourceVerdictHeadLightMap]
filename = .\Textures\LightMap\VerdictHeadLightMap - Original.dds

[ResourceVerdictHeadLightMapObsidian]
filename = .\Textures\LightMap\VerdictHeadLightMap - Obsidian.dds

[ResourceVerdictHeadDiffuse.0]
filename = .\Textures\Original\VerdictHeadDiffuse - Original.dds

[ResourceVerdictHeadDiffuse.1]
filename = .\Textures\Original\VerdictHeadDiffuse - Obsidian.dds

[ResourceVerdictHeadDiffuse.2]
filename = .\Textures\Cryo\VerdictHeadDiffuse - Golden Cryo.dds

[ResourceVerdictHeadDiffuse.3]
filename = .\Textures\Cryo\VerdictHeadDiffuse - Obsidian Cryo.dds

[ResourceVerdictHeadDiffuse.4]
filename = .\Textures\Pyro\VerdictHeadDiffuse - Golden Pyro.dds

[ResourceVerdictHeadDiffuse.5]
filename = .\Textures\Pyro\VerdictHeadDiffuse - Obsidian Pyro.dds

[ResourceVerdictHeadDiffuse.6]
filename = .\Textures\Electro\VerdictHeadDiffuse - Golden Electro.dds

[ResourceVerdictHeadDiffuse.7]
filename = .\Textures\Electro\VerdictHeadDiffuse - Obsidian Electro.dds

[ResourceVerdictHeadDiffuse.8]
filename = .\Textures\Noelle Velvet\VerdictHeadDiffuse - Noelle.dds

; .ini generated by GIMI (Genshin-Impact-Model-Importer)
; If you have any issues or find any bugs, please open a ticket at https://github.com/SilentNightSound/GI-Model-Importer/issues or contact SilentNightSound#7430 on discord
